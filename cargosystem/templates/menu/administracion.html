{% load filtros %}
<style>
.sidebar-item:hover {
    background-color: rgba(255, 255, 255, 0.1);
    border-radius: 8px;
    box-shadow: 0 0 10px rgba(255, 255, 255, 0.2);
}

</style>
<style>
  .custom-icon {
    fill: white; /* Cambia el color del SVG a blanco */
        width: 1em; /* Ajusta al tamaño del icono de Font Awesome */
    height: 1em;
  }

/* Estilo inicial: Submenu links y sidebar links con colores normales */
.sidebar-link, .submenu-link {
    color: white;
    text-decoration: none;
}

/* Por defecto, submenu cerrado */
.submenu {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.4s ease-in-out;
}

/* Cuando tiene la clase "active", mostrar submenu */
.sidebar-item.active .submenu {
    max-height: 500px;
}
</style>


<!--menu lateral-->
<aside id="sidebar" class="bg-secondary">
    <div class="h-100">
        <div class="sidebar-logo">
            <a href="/">{{ request.session.empresa }}</a>
        </div>
        <!-- Sidebar Navigation -->
        <ul class="sidebar-nav">
            <li class="sidebar-header">
                Opciones
            </li>
            <li class="sidebar-item">
                <a href="/admin_cont/audit-logs/" class="sidebar-link">
                   <i class="fa-solid fa-circle-info"></i>
                    &nbsp;Log de acciones
                </a>
            </li>
            <li class="sidebar-item">
                <a href="/admin_cont/audit-logs-historico/" class="sidebar-link">
                   <i class="fa-solid fa-circle-info"></i>
                    &nbsp;Log de acciones histórico
                </a>
            </li>
            <li class="sidebar-item">
                <a href="/admin_cont/facturacion/" class="sidebar-link">
                    <i class="fa-solid fa-receipt"></i>
                    &nbsp;Facturacion
                </a>
            </li>
            <li class="sidebar-item">
                <a href="/admin_cont/cobranza/" class="sidebar-link">
                    <i class="fa-solid fa-landmark"></i>&nbsp;Cobranza
                </a>
            </li>
             <li class="sidebar-item">
                <a href="/admin_cont/proveedores_gastos/" class="sidebar-link">
                    <i class="fas fa-user-tie"></i>&nbsp;Proveedores y gastos
                </a>
            </li>
            <li class="sidebar-item">
                <a href="/admin_cont/orden_pago/" class="sidebar-link">
                   <i class="fa-solid fa-coins"></i>&nbsp;Orden de pago
                </a>
            </li>

            <li class="sidebar-item has-submenu">
                <a href="javascript:void(0)" class="sidebar-link">
                <i class="fa-regular fa-pen-to-square"></i>
                &nbsp; Editar y consultar movimientos
                </a>
                <ul class="submenu">
                    <li class="submenu-item">
                        <a href="/admin_cont/editar_consultar_pagos/" class="submenu-link">
                            Ordenes de pago
                        </a>
                    </li>
                    <li class="submenu-item">
                        <a href="/admin_cont/editar_consultar_cobranzas/" class="submenu-link">
                            Cobranzas
                        </a>
                    </li>
                    <li class="submenu-item">
                        <a href="/admin_cont/editar_consultar_ventas/" class="submenu-link">
                            Ventas
                        </a>
                    </li>
                    <li class="submenu-item">
                        <a href="/admin_cont/editar_consultar_compras" class="submenu-link">
                            Compras
                        </a>
                    </li>
                </ul>
            </li>

            <li class="sidebar-item has-submenu">
                <a href="javascript:void(0)" class="sidebar-link">
                <i class="fa-solid fa-calculator"></i>
                &nbsp; Contabilidad
                </a>
                <ul class="submenu">
                    <li class="submenu-item">
                        <a href="/admin_cont/ingresar_asientos/" class="submenu-link">
                            Ingresar asientos
                        </a>
                    </li>
                    <li class="submenu-item">
                        <a href="/admin_cont/modificar_asientos/" class="submenu-link">
                            Modificar asientos
                        </a>
                    </li>
                    <li class="submenu-item">
                        <a href="/admin_cont/movimientos_bancarios/" class="submenu-link">
                            Movimientos bancarios
                        </a>
                    </li>
                    <li class="submenu-item">
                        <a href="/admin_cont/movimientos_caja/" class="submenu-link">
                            Movimientos de caja
                        </a>
                    </li>
                    <li class="submenu-item">
                        <a href="/admin_cont/ingresar_buscar_cheques/" class="submenu-link">
                            Ingresar/Buscar cheques
                        </a>
                    </li>
                    <li class="submenu-item">
                        <a href="/admin_cont/bajar_a_banco/" class="submenu-link">
                            Bajar a banco cheques
                        </a>
                    </li>
                </ul>
            </li>

            <li class="sidebar-header">
                Modulo
            </li>
            <li class="sidebar-item">
                <a href="#" class="sidebar-link" data-bs-toggle="collapse" onclick="toggle_collapse_menu('auth1', this)" >
                    <i class="fa fa-puzzle-piece pe-2"></i>
                    {{ rol_pestana|filtro_menu|capfirst }}
                </a>
                <ul id="auth1" class="sidebar-dropdown list-unstyled collapse" data-bs-parent="#sidebar">
                    {% for modulo in request.session.roles %}
                        {% if modulo != rol_pestana %}
                            {% url 'vista_cambiar_modulo' modulo as url_modulo %}
                            <li class="sidebar-item">
                                <a href="javascript:void(0)" onclick="cambiarRol('{{ modulo }}', '{{ url_modulo }}')" class="sidebar-link">
                                    {{ modulo|capfirst|filtro_menu }}
                                </a>
                            </li>

                        {% endif %}
                    {% endfor %}
                </ul>

            </li>
             <li class="sidebar-header">
                Sesion usuario
            </li>
            <li class="sidebar-item">
                <a href="#" class="sidebar-link collapsed" data-bs-toggle="collapse" data-bs-target="#auth"
                    aria-expanded="false" aria-controls="auth">
                    <i class="fa-regular fa-user pe-2"></i>
                    {{ request.user.first_name }} {{ request.user.last_name }}
                </a>
                <ul id="auth" class="sidebar-dropdown list-unstyled collapse" data-bs-parent="#sidebar">
                    <li class="sidebar-item">
                                <a href="{% url 'cambiar_clave' %}" class="sidebar-link">Cambio clave</a>

                    </li>
                    <li class="sidebar-item">
                        <a href="{% url 'vista_logout' %}" class="sidebar-link">Salir</a>
                    </li>
                </ul>
            </li>
        </ul>
    </div>
</aside>
