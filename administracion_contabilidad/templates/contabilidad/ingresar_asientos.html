{% extends 'base_table_v2.html' %}
{% load static %}
{% block contenido %}
<style>
    .oculto {
    display: none;
  }
</style>

<link rel="stylesheet" type="text/css" href="{% static 'css/administracion/administracion.css' %}">
<title>Ingresar Asientos</title>
<form method="post" id="formIngresarAsiento" class="container-fluid mt-3">
  {% csrf_token %}

  <div class="border rounded p-3 bg-light">
    <div class="row">
      <div>{{ form.asiento }}</div>
      <div class="col-md-2">{{ form.fecha.label_tag }} {{ form.fecha }}</div>
      <div class="col-md-2">{{ form.cuenta.label_tag }} {{ form.cuenta }}</div>
      <div class="col-md-2">{{ form.moneda.label_tag }} {{ form.moneda }}</div>
      <div class="col-md-2">{{ form.monto.label_tag }} {{ form.monto }}</div>
      <div class="col-md-2">
        <label>{{ form.tipo_movimiento.label }}</label><br>
        {% for radio in form.tipo_movimiento %}
          <div class="form-check form-check-inline">
            {{ radio.tag }} <label class="form-check-label" for="{{ radio.id_for_label }}">{{ radio.choice_label }}</label>
          </div>
        {% endfor %}
      </div>
    </div>

    <div class="row mt-2">
      <div class="col-md-4">{{ form.detalle.label_tag }} {{ form.detalle }}</div>
      <div class="col-md-2">{{ form.arbitraje.label_tag }} {{ form.arbitraje }}</div>
      <div class="col-md-2">{{ form.paridad.label_tag }} {{ form.paridad }}</div>
      <div class="col-md-2">{{ form.posicion.label_tag }} {{ form.posicion }}</div>
    </div>

    <div class="row mt-3">
      <div class="col">
        <button type="button" class="btn btn-success btn-sm" id="btnGuardar">Guardar</button>
        <button type="button" class="btn btn-danger btn-sm" id="btnEliminar">Eliminar</button>
        <button type="button" class="btn btn-secondary btn-sm" id="btnClonar">Clonar</button>
      </div>
    </div>

    <hr>

    <div class="table-responsive">
      <table class="table table-bordered table-sm">
        <thead class="thead-light">
          <tr>
            <th>Cuenta</th>
            <th>Detalle del Movimiento</th>
            <th>Debe</th>
            <th>Haber</th>
            <th>Tipo Cambio</th>
            <th>Paridad</th>
            <th>Posicion</th>
            <th class="oculto">Moneda</th>
          </tr>
        </thead>
        <tbody id="tablaMovimientos">

        </tbody>
      </table>
    </div>
  </div>

<div class="border rounded p-3 bg-white mt-3 shadow-sm">
  <div class="row align-items-end">
    <div class="col-md-2 d-flex align-items-end">
      <button type="button" id="btnFinalizar" class="btn btn-primary w-100">Finalizar</button>
    </div>
    <div class="col-md-2">
      <label>Debe</label>
      <input type="text" class="form-control form-control-sm" id="totalDebe" readonly>
    </div>
    <div class="col-md-2">
      <label>Haber</label>
      <input type="text" class="form-control form-control-sm" id="totalHaber" readonly>
    </div>
    <div class="col-md-2">
      <label>Saldo</label>
      <input type="text" class="form-control form-control-sm" id="saldo" readonly>
    </div>
  </div>
</div>

</form>
<script src="{% static 'grilla/ingresar_asientos.js' %}"></script>
<script>
   var csrf_token = '{{ csrf_token }}';
</script>
{% endblock contenido %}