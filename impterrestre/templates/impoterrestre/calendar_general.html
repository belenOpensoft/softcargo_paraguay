{% extends 'base_v2.html' %}
{% load static %}

{% block script %}
    <!-- DATATABLES -->
    <link rel="stylesheet" type="text/css" href="{% static 'datatables/datatables.min.css'  %}">
    <link rel="stylesheet" type="text/css" href="{% static 'datatables/buttons.dataTables.min.css'  %}">
    <!-- jQuery UI -->
    <link rel="stylesheet" type="text/css" href="{% static 'jquery-ui/jquery-ui-1.10.0.custom.css'  %}">
    <script src="{% static 'datatables/datatables.min.js' %}"></script>
    <script src="{% static 'datatables/dataTables.buttons.min.js' %}"></script>
    <script src="{% static 'js/jquery-ui.min.js' %}"></script>
    <script src="{% static 'grilla/js_controlador_sidemenu.js' %}"></script>
    <script src="{% static 'grilla/js_calendar.js' %}"></script>
    <script type="text/javascript" src="{% static 'summernote/summernote-lite.js' %}"></script>
    <link rel="stylesheet" type="text/css" href="{% static 'summernote/summernote-lite.css'  %}">

    <!-- FullCalendar CSS -->
    <link href="https://cdn.jsdelivr.net/npm/fullcalendar@5.10.1/main.min.css" rel="stylesheet">
    <!-- FullCalendar JS -->
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.10.1/main.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.10.1/locales-all.min.js"></script>

{% block script_table %}
    <!-- Custom script for the calendar can be added here -->
{% endblock script_table %}
{% endblock script %}

{% block css %}
    <style>
        td.details-control {
            background: url('/static/images/mas.png') no-repeat center center;
            cursor: pointer;
        }
        tr.shown td.details-control {
            background: url('/static/images/menos.png') no-repeat center center;
        }
        .table {
            white-space: nowrap;
        }
        .derecha {
            text-align: right;
        }
        .centro {
            text-align: center;
        }
        .filtros {
            display: flex;
            align-items: center;
            width: 100%;
            gap: 10px;
        }

        .filtros input {
            width: 15%;
            margin: 0;
        }

        .wrapper-filtros {
        font-size:14px;
            display: flex;
            justify-content: flex-start;
            width: 100%;
            margin:auto;
            margin-bottom:3%;
        }

        #filtrar_seguimientos {
            height: fit-content;
            width: 100px;
            margin-left: 10px;
        }
        #filtros_rep input{
        margin:10px;
        width:200px;
        }
        #filtros_rep{
        padding:10px;
        margin-bottom:20px;
        }
        #filtros_rep button{
        margin:5px;
        }
        #modal-content_r{
        display:flex;
        justify-content:center;
        align-items:center;
        }
        .dataTables_filter { display: none; }
        {% block css_basetable %}
        {% endblock css_basetable %}
    </style>
{% endblock css %}

{% block contenido %}
    <div id="page-wrapper">
        <div class="container-fluid">
            <div class="row">
                <div class="col-lg-12">
                    <div class="panel-body">
                        <div class="row">
                            <div class="col-lg-12">
                                <div class="wrapper-filtros">
                                <div class="filtros">
                                  <label>Modo</label>
                                  <select style="width:250px;" class="form-control" id="modo_filtro">
                                      <option value="">...</option>
                                      <option value="import">IMPO AEREO</option>
                                      <option value="impmarit">IMPO MARITIMO</option>
                                      <option value="terrestre">IMPO TERRESTRE</option>
                                  </select>

                                  <label>Consignatario</label>
                                  <input style="padding: .375rem .75rem !important;font-size: 1rem !important;font-weight: 400 !important;line-height: 1.5 !important;" class="form-control filtro-input" id="filtro_cliente">

                                  <button type="button" class="btn btn-primary btn-filtro" id="filtrar_seguimientos">Filtrar</button>
                                    <button type="button" class="btn btn-secondary" id="limpiar_filtros">Limpiar Filtros</button>
                                     <button type="button" class="btn btn-secondary" id="reporte_excel_filtrado">Reporte excel</button>
                               </div>
                                </div>
                                {% block table_datatable %}
                                <div id="calendar"></div> <!-- Aquí es donde se mostrará el calendario -->
                                {% endblock table_datatable %}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
<!-- Modal donde se mostrará la información del evento -->
<div id="myModal" style="display:none;">
    <div id="modal-content"></div>
    <button id="close-modal-btn" class="btn btn-secondary">Cerrar</button>
</div>

<!-- Modal para seleccionar el rango de fechas -->
<div id="reporte" style="display:none;">
    <div id="modal-content_r">
        <div id="filtros_rep">
            <p id="que_filtra" style="display:none;">El reporte mantendrá los filtros:</p>
            <label for="desde_filtro">Desde:</label>
            <input class="form-control" type="date" id="desde_filtro">

            <label for="hasta_filtro">Hasta:</label>
            <input class="form-control" type="date" id="hasta_filtro">
        </div>
    </div>
    <div style="text-align:right;">
    <button class="btn btn-primary" id="reporte_fechas">Descargar reporte</button>
    <button id="close-modal-btn_r" class="btn btn-secondary">Cerrar</button>
    </div>

</div>


{% block script_datatable %}



{% endblock script_datatable %}
{% endblock contenido %}
